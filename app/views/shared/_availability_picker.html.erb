<div class="availability-picker">
  <div class="availability-grid" data-controller="mini-calendar" data-mini-calendar-target="root">
    <div class="calendar-header">
      <button type="button" class="btn-sm" data-action="click->mini-calendar#prevMonth">&larr;</button>
      <div class="calendar-title" data-mini-calendar-target="title">Month Year</div>
      <button type="button" class="btn-sm" data-action="click->mini-calendar#nextMonth">&rarr;</button>
    </div>

    <div class="calendar-weekdays" aria-hidden="true">
      <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
    </div>

    <div class="calendar-days" data-mini-calendar-target="days" role="grid" aria-label="Calendar"></div>
  </div>

  <div class="time-selector" data-controller="time-picker" data-time-picker-target="root">
    <h3>Available times</h3>
    <div class="time-list" data-time-picker-target="list">
      <p class="muted">Select a date to view times</p>
    </div>

    <!-- hidden fields to be submitted in your reservation form; update names as needed -->
    <input type="hidden" name="reservation[selected_date]" data-time-picker-target="dateInput">
    <input type="hidden" name="reservation[selected_time]" data-time-picker-target="timeInput">
  </div>
</div>

<style>
  /* Minimal inline styles â€” move to app CSS as desired */
  .availability-picker { display:flex; gap:1rem; align-items:flex-start; }
  .availability-grid { width:320px; border:1px solid #e5e7eb; padding:0.5rem; border-radius:6px; }
  .calendar-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:0.5rem; }
  .calendar-weekdays { display:grid; grid-template-columns:repeat(7,1fr); text-align:center; font-weight:600; font-size:0.85rem; color:#374151; }
  .calendar-days { display:grid; grid-template-columns:repeat(7,1fr); gap:0.25rem; }
  .calendar-day { padding:0.5rem; text-align:center; border-radius:4px; cursor:pointer; }
  .calendar-day.other-month { color:#9ca3af; }
  .calendar-day.selected { background:#0d6efd; color:white; font-weight:700; }
  .time-selector { min-width:220px; }
  .time-list { display:flex; flex-wrap:wrap; gap:0.5rem; }
  .time-item { padding:0.4rem 0.6rem; border:1px solid #d1d5db; border-radius:6px; cursor:pointer; }
  .time-item.selected { background:#0d6efd; color:white; border-color:#0d6efd; }
</style>
