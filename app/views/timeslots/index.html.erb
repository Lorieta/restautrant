<div style="display:flex; justify-content:center; padding:2rem 1rem;">
  <div style="max-width:1000px; width:100%;">
    <div style="background:#fff; padding:0.5rem; border-radius:6px; box-shadow:0 1px 3px rgba(0,0,0,0.05);">
      <table style="width:100%; border-collapse:collapse;">
        <thead>
          <tr>
            <th colspan="6" style="text-align:left; padding:10px 8px; font-size:1.1rem; border-bottom:1px solid #eee;">
              Tables & Timeslots
            </th>
          </tr>
          <tr>
            <th style="text-align:left; padding:8px; border-bottom:1px solid #f2f2f2;">Table</th>
            <th style="text-align:right; padding:8px; border-bottom:1px solid #f2f2f2;">Seats</th>
            <th style="text-align:left; padding:8px; border-bottom:1px solid #f2f2f2;">Date</th>
            <th style="text-align:left; padding:8px; border-bottom:1px solid #f2f2f2;">Start</th>
            <th style="text-align:left; padding:8px; border-bottom:1px solid #f2f2f2;">End</th>
            <th style="text-align:center; padding:8px; border-bottom:1px solid #f2f2f2;">Actions</th>
          </tr>
        </thead>

        <tbody>
          <% @tables.each do |table| %>
            <% table.timeslots.each do |ts| %>
              <tr>
                <td style="padding:8px; vertical-align:middle;"><%= table.quantity %></td>
                <td style="padding:8px; text-align:right; vertical-align:middle;"><%= table.capacity %></td>
                <td style="padding:8px; vertical-align:middle;"><%= ts.date.present? ? ts.date.strftime('%Y-%m-%d') : '-' %></td>
                <td style="padding:8px; vertical-align:middle;"><%= ts.start_time.present? ? ts.start_time.strftime('%I:%M %p') : '-' %></td>
                <td style="padding:8px; vertical-align:middle;"><%= ts.end_time.present? ? ts.end_time.strftime('%I:%M %p') : '-' %></td>
                <td style="padding:8px; text-align:center; vertical-align:middle;">
                  <%= link_to 'Edit', edit_timeslot_path(ts), class: 'btn btn-sm' %> |
                  <%= link_to 'Delete', timeslot_path(ts),
                              class: 'btn btn-sm btn-link text-danger p-0',
                              data: {
                                action: 'confirm-modal#ask',
                                turbo_method: :delete,
                                confirm_modal_title: 'Delete Timeslot',
                                confirm_modal_message: "Delete timeslot for table quantity #{table.quantity} (capacity #{table.capacity}) on #{ts.date}?",
                                confirm_modal_confirm_text: 'Delete',
                                confirm_modal_confirm_class: 'btn btn-danger'
                              } %>
                </td>
              </tr>
            <% end %>
          <% end %>

          <% if @tables.blank? %>
            <tr><td colspan="6" style="padding:12px; text-align:center; color:#666;">No tables or timeslots found.</td></tr>
          <% end %>
        </tbody>
      </table>

      <div style="display:flex; justify-content:space-between; margin-top:0.75rem;">
        <div><%= link_to "Add Table", new_table_path, class: 'btn btn-sm btn-outline-primary' %></div>
        <div><%= link_to "Add Timeslot", new_timeslot_path, class: 'btn btn-sm btn-primary' %></div>
      </div>
    </div>
  </div>
</div>
